{"version":3,"file":"MigrationHelper-CW86968t.js","sources":["../../src/utils/store-user-helpers.js","../../src/pages/MigrationHelper.jsx"],"sourcesContent":["// Direct DB operations for the migration helper to fix user-store relationships\n\n/**\n * Ensures a user is properly connected to a store in the store_users table\n * @param {object} supabase - Supabase client instance\n * @param {string} userId - The user's ID to connect\n * @param {string} storeId - The store ID to connect the user to\n * @param {string} role - User's role (owner, admin, staff)\n * @returns {Promise<object>} Result object with success/error info\n */\nexport const ensureUserInStore = async (supabase, userId, storeId, role = 'staff') => {\n  try {\n    if (!userId) throw new Error('User ID is required');\n    if (!storeId) throw new Error('Store ID is required');\n    \n    // Check if the user-store relationship already exists\n    const { data: existingMapping, error: checkError } = await supabase\n      .from('store_users')\n      .select('id')\n      .eq('user_id', userId)\n      .eq('store_id', storeId)\n      .single();\n      \n    if (checkError && checkError.code !== 'PGRST116') { // PGRST116 is \"no rows returned\" which is expected\n      console.error('Error checking store_users:', checkError);\n      return { \n        success: false, \n        error: checkError,\n        message: `Failed to check if user is in store: ${checkError.message}`\n      };\n    }\n    \n    // If mapping already exists, just return success\n    if (existingMapping) {\n      return { \n        success: true, \n        created: false,\n        message: 'User already connected to store'\n      };\n    }\n    \n    // Create the store_users record\n    const timestamp = new Date().toISOString();\n    const { error: insertError } = await supabase\n      .from('store_users')\n      .insert([{\n        user_id: userId,\n        store_id: storeId,\n        role: role,\n        is_active: true,\n        created_at: timestamp,\n        updated_at: timestamp\n      }]);\n      \n    if (insertError) {\n      console.error('Error inserting store_users:', insertError);\n      return { \n        success: false, \n        error: insertError,\n        message: `Failed to add user to store: ${insertError.message}`\n      };\n    }\n    \n    // Update the user's profile with the store_id\n    const { error: updateError } = await supabase\n      .from('profiles')\n      .update({ store_id: storeId })\n      .eq('id', userId);\n      \n    if (updateError) {\n      console.warn('Warning: Could not update profile with store_id:', updateError);\n      // We don't fail completely here, as the critical part (store_users entry) worked\n    }\n    \n    return { \n      success: true, \n      created: true,\n      message: 'User successfully connected to store'\n    };\n  } catch (error) {\n    console.error('Exception in ensureUserInStore:', error);\n    return { \n      success: false, \n      error,\n      message: `Exception connecting user to store: ${error.message}`\n    };\n  }\n};\n\n/**\n * Creates a store for a user if they don't have one\n * @param {object} supabase - Supabase client instance\n * @param {string} userId - User ID \n * @param {string} storeName - Name for the store\n * @param {string} role - User's role in the store\n * @returns {Promise<object>} Result with store info and success status\n */\nexport const createStoreForUser = async (supabase, userId, storeName, role = 'owner') => {\n  try {\n    if (!userId) throw new Error('User ID is required');\n    if (!storeName) throw new Error('Store name is required');\n    \n    const timestamp = new Date().toISOString();\n    const storeCode = storeName.substring(0, 3).toUpperCase() + Math.floor(Math.random() * 1000);\n    \n    // Create the store\n    const { data: store, error: storeError } = await supabase\n      .from('stores')\n      .insert([{\n        name: storeName,\n        code: storeCode,\n        created_at: timestamp,\n        updated_at: timestamp\n      }])\n      .select()\n      .single();\n      \n    if (storeError) {\n      console.error('Error creating store:', storeError);\n      return { \n        success: false, \n        error: storeError,\n        message: `Failed to create store: ${storeError.message}`\n      };\n    }\n    \n    // Connect user to the new store\n    const result = await ensureUserInStore(supabase, userId, store.id, role);\n    \n    return {\n      ...result,\n      store,\n      storeId: store.id\n    };\n  } catch (error) {\n    console.error('Exception in createStoreForUser:', error);\n    return { \n      success: false, \n      error,\n      message: `Exception creating store for user: ${error.message}`\n    };\n  }\n};\n","// Migration helper to set up store_users table and apply security rules\nimport React, { useState, useEffect } from 'react';\nimport { supabase } from '../lib/supabase';\nimport LoadingSpinner from '../components/ui/LoadingSpinner';\nimport Alert from '../components/ui/Alert';\nimport { ensureUserInStore, createStoreForUser } from '../utils/store-user-helpers';\n\nconst MigrationHelper = () => {\n  const [loading, setLoading] = useState(false);\n  const [status, setStatus] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [userCount, setUserCount] = useState(0);\n  const [storeCount, setStoreCount] = useState(0);\n  const [storeUserCount, setStoreUserCount] = useState(0);\n  const [logs, setLogs] = useState([]);\n\n  // Add a log entry\n  const addLog = (message, type = 'info') => {\n    setLogs(prev => [...prev, { message, type, timestamp: new Date() }]);\n  };\n\n  // Run the migration\n  const runMigration = async () => {\n    try {\n      setLoading(true);\n      setStatus('Starting migration...');\n      addLog('Starting migration process');\n\n      // 1. First get all users from profiles table\n      setStatus('Fetching users...');\n      const { data: profiles, error: profilesError } = await supabase\n        .from('profiles')\n        .select('id, email, full_name, role, store_id');\n\n      if (profilesError) {\n        throw new Error(`Failed to fetch profiles: ${profilesError.message}`);\n      }\n\n      addLog(`Found ${profiles.length} user profiles`);\n      setUserCount(profiles.length);\n\n      // 2. Get all stores\n      setStatus('Fetching stores...');\n      const { data: stores, error: storesError } = await supabase\n        .from('stores')\n        .select('id, name');\n\n      if (storesError) {\n        throw new Error(`Failed to fetch stores: ${storesError.message}`);\n      }\n\n      addLog(`Found ${stores.length} stores`);\n      setStoreCount(stores.length);\n\n      // 3. Get existing store_users entries\n      setStatus('Checking existing store user mappings...');\n      const { data: existingStoreUsers, error: storeUsersError } = await supabase\n        .from('store_users')\n        .select('store_id, user_id');\n\n      if (storeUsersError) {\n        throw new Error(`Failed to fetch store_users: ${storeUsersError.message}`);\n      }\n\n      addLog(`Found ${existingStoreUsers.length} existing store user mappings`);\n      setStoreUserCount(existingStoreUsers.length);\n\n      // 4. Find users who need to be added to a store\n      const usersToAddToStore = profiles.filter(profile => {\n        // Skip users who already have a store_user entry\n        return !existingStoreUsers.some(su => su.user_id === profile.id);\n      });\n\n      if (usersToAddToStore.length === 0) {\n        addLog('All users already have store mappings', 'success');\n        setStatus('No migration needed');\n        setSuccess(true);\n        return;\n      }\n\n      addLog(`Found ${usersToAddToStore.length} users that need store mappings`);\n      setStatus(`Adding ${usersToAddToStore.length} users to stores...`);\n\n      // 5. Create default store if needed\n      let defaultStore = stores[0];\n      \n      if (!defaultStore) {\n        addLog('No stores found, creating a default store');\n        setStatus('Creating default store...');\n        \n        const { data: newStore, error: createStoreError } = await supabase\n          .from('stores')\n          .insert([{\n            name: 'Default Store',\n            code: 'DEF' + Math.floor(Math.random() * 1000),\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n          }])\n          .select()\n          .single();\n\n        if (createStoreError) {\n          throw new Error(`Failed to create default store: ${createStoreError.message}`);\n        }\n\n        defaultStore = newStore;\n        addLog(`Created default store: ${defaultStore.name}`, 'success');\n      }\n\n      // 6. Process each user\n      for (const profile of usersToAddToStore) {\n        // Determine which store to use\n        let targetStoreId = profile.store_id;\n        \n        // If user doesn't have a store_id in their profile, use default\n        if (!targetStoreId && defaultStore) {\n          targetStoreId = defaultStore.id;\n          addLog(`Will use default store for user: ${profile.email || profile.id}`);\n        }\n        \n        if (!targetStoreId) {\n          addLog(`Skipping user ${profile.email || profile.id} - no store_id available`, 'warning');\n          continue;\n        }\n\n        // Use our helper function to add the user to store_users\n        const result = await ensureUserInStore(\n          supabase,\n          profile.id,\n          targetStoreId,\n          profile.role || 'staff'\n        );\n\n        if (result.success) {\n          if (result.created) {\n            addLog(`Added user ${profile.email || profile.id} to store`, 'success');\n          } else {\n            addLog(`User ${profile.email || profile.id} already mapped to store`, 'info');\n          }\n        } else {\n          addLog(`Failed to add user ${profile.email || profile.id} to store: ${result.message}`, 'error');\n        }\n      }\n\n      setStatus('Migration completed successfully!');\n      setSuccess(true);\n      addLog('Migration completed successfully!', 'success');\n    } catch (err) {\n      console.error('Migration failed:', err);\n      setError(err.message);\n      setStatus('Migration failed');\n      addLog(`Error: ${err.message}`, 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"p-6 max-w-4xl mx-auto\">\n      <h1 className=\"text-2xl font-bold mb-4\">Authentication & Security Migration</h1>\n      \n      <div className=\"mb-6\">\n        <p className=\"mb-2\">\n          This utility will ensure all users are properly added to the store_users table.\n          This fixes the issue where users can authenticate but aren't associated with a store.\n        </p>\n      </div>\n\n      {error && (\n        <Alert \n          type=\"error\"\n          title=\"Migration Error\"\n          message={error}\n          className=\"mb-4\"\n        />\n      )}\n\n      {success && (\n        <Alert \n          type=\"success\"\n          title=\"Migration Complete\"\n          message=\"All users have been successfully mapped to stores.\"\n          className=\"mb-4\"\n        />\n      )}\n\n      <div className=\"flex flex-col sm:flex-row gap-4 mb-6\">\n        <div className=\"bg-white p-4 rounded-lg shadow border border-gray-200 flex-1\">\n          <h3 className=\"font-medium text-gray-700\">Users</h3>\n          <p className=\"text-2xl font-bold\">{userCount}</p>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow border border-gray-200 flex-1\">\n          <h3 className=\"font-medium text-gray-700\">Stores</h3>\n          <p className=\"text-2xl font-bold\">{storeCount}</p>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow border border-gray-200 flex-1\">\n          <h3 className=\"font-medium text-gray-700\">Store Users</h3>\n          <p className=\"text-2xl font-bold\">{storeUserCount}</p>\n        </div>\n      </div>\n\n      <div className=\"mb-6\">\n        <button\n          onClick={runMigration}\n          disabled={loading || success}\n          className=\"btn btn-primary\"\n        >\n          {loading ? 'Running Migration...' : success ? 'Migration Complete' : 'Run Migration'}\n        </button>\n\n        {loading && (\n          <div className=\"mt-4 flex items-center\">\n            <LoadingSpinner size=\"sm\" />\n            <span className=\"ml-2\">{status}</span>\n          </div>\n        )}\n      </div>\n\n      {/* Log output */}\n      <div className=\"border border-gray-200 rounded-lg overflow-hidden\">\n        <div className=\"bg-gray-50 px-4 py-2 border-b border-gray-200\">\n          <h3 className=\"font-medium\">Migration Log</h3>\n        </div>\n        <div className=\"bg-gray-900 text-gray-100 p-4 font-mono text-sm h-80 overflow-y-auto\">\n          {logs.length === 0 ? (\n            <div className=\"text-gray-500\">No logs yet. Run the migration to see details.</div>\n          ) : (\n            logs.map((log, i) => (\n              <div key={i} className={`mb-1 ${\n                log.type === 'error' ? 'text-red-400' : \n                log.type === 'warning' ? 'text-yellow-400' : \n                log.type === 'success' ? 'text-green-400' : 'text-gray-300'\n              }`}>\n                <span className=\"opacity-70\">[{log.timestamp.toLocaleTimeString()}]</span> {log.message}\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MigrationHelper;\n"],"names":["ensureUserInStore","supabase","userId","storeId","role","existingMapping","checkError","timestamp","insertError","updateError","error","MigrationHelper","loading","setLoading","useState","status","setStatus","setError","success","setSuccess","userCount","setUserCount","storeCount","setStoreCount","storeUserCount","setStoreUserCount","logs","setLogs","addLog","message","type","prev","runMigration","profiles","profilesError","stores","storesError","existingStoreUsers","storeUsersError","usersToAddToStore","profile","su","defaultStore","newStore","createStoreError","targetStoreId","result","err","jsxs","jsx","Alert","LoadingSpinner","log","i"],"mappings":"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"}