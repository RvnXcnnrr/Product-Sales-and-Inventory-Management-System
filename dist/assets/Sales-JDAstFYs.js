import{c as O,r,d as z,j as e,f as t,S as w,M as B,L as G,C as k,V as x}from"./index-B8kRnX3K.js";import{S as J,P as S}from"./search-CBWkdRoh.js";import{T as _}from"./trash-2-D9kIlZq0.js";import{M as K}from"./minus-ZhJN-4rg.js";import{D as U}from"./dollar-sign-CFrTNPN5.js";import{C as V}from"./credit-card-DuGgzudT.js";/**
 * @license lucide-react v0.307.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=O("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),ee=()=>{const[i,M]=r.useState(""),[h,T]=r.useState("all"),[P,o]=r.useState(!1),[n,u]=r.useState("cash"),[l,f]=r.useState(""),[g,b]=r.useState(!1),[q,j]=r.useState(!1),[p,d]=r.useState(null),{cart:c,totals:a,addItem:A,updateItem:R,removeItem:F,clearCart:N}=z(),[v]=r.useState([{id:1,name:"iPhone 13 Pro",sku:"IPH13P-256",selling_price:999.99,stock_quantity:15,category:"Electronics",image_url:null,barcode:"123456789012"},{id:2,name:"Samsung Galaxy S22",sku:"SGS22-128",selling_price:699.99,stock_quantity:8,category:"Electronics",image_url:null,barcode:"123456789013"},{id:3,name:"Nike Air Max",sku:"NAM-001",selling_price:129.99,stock_quantity:25,category:"Footwear",image_url:null,barcode:"123456789014"},{id:4,name:"Coca Cola 500ml",sku:"CC-500",selling_price:2.99,stock_quantity:100,category:"Beverages",image_url:null,barcode:"123456789015"},{id:5,name:"MacBook Air M2",sku:"MBA-M2-512",selling_price:1299.99,stock_quantity:3,category:"Electronics",image_url:null,barcode:"123456789016"},{id:6,name:"Levi's Jeans",sku:"LJ-501",selling_price:89.99,stock_quantity:20,category:"Clothing",image_url:null,barcode:"123456789017"}]),I=["all",...new Set(v.map(s=>s.category))],y=v.filter(s=>{const m=s.name.toLowerCase().includes(i.toLowerCase())||s.sku.toLowerCase().includes(i.toLowerCase())||s.barcode.includes(i),E=h==="all"||s.category===h;return m&&E&&s.stock_quantity>0}),C=(s,m)=>{m<=0?d(s):R(s,{quantity:m})},L=async()=>{if(c.items.length===0){x.error("Cart is empty");return}if(n==="cash"){const s=parseFloat(l);if(!s||s<a.total){x.error("Insufficient amount received");return}}b(!0);try{await new Promise(s=>setTimeout(s,2e3)),console.log("Processing transaction:",{items:c.items,totals:a,paymentMethod:n,amountReceived:n==="cash"?parseFloat(l):a.total}),x.success("Transaction completed successfully!"),N(),o(!1),f(""),u("cash")}catch{x.error("Transaction failed. Please try again.")}finally{b(!1)}},D=n==="cash"&&l?Math.max(0,parseFloat(l)-a.total):0;return e.jsxs("div",{className:"h-full flex flex-col lg:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Point of Sale"}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsxs("span",{className:"text-sm text-gray-500",children:[y.length," products available"]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search products by name, SKU, or barcode...",value:i,onChange:s=>M(s.target.value),className:"input pl-10"})]}),e.jsx("select",{value:h,onChange:s=>T(s.target.value),className:"input w-full sm:w-auto",children:I.map(s=>e.jsx("option",{value:s,children:s==="all"?"All Categories":s},s))})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:y.map(s=>e.jsxs("div",{className:"card p-4 hover:shadow-md transition-shadow cursor-pointer",children:[e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center",children:s.image_url?e.jsx("img",{src:s.image_url,alt:s.name,className:"w-full h-full object-cover rounded-lg"}):e.jsx("div",{className:"text-gray-400 text-4xl",children:"📦"})}),e.jsx("h3",{className:"font-medium text-gray-900 mb-1 line-clamp-2",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["SKU: ",s.sku]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-lg font-bold text-primary-600",children:t(s.selling_price)}),e.jsxs("span",{className:"text-sm text-gray-500",children:[s.stock_quantity," in stock"]})]}),e.jsxs("button",{onClick:()=>A(s,1),className:"btn btn-primary btn-sm w-full",disabled:s.stock_quantity===0,children:[e.jsx(S,{className:"w-4 h-4 mr-1"}),"Add to Cart"]})]},s.id))}),y.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"🔍"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]})]}),e.jsx("div",{className:"lg:w-80 xl:w-96",children:e.jsxs("div",{className:"card h-full flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(w,{className:"w-5 h-5 mr-2"}),"Cart (",a.itemCount,")"]}),c.items.length>0&&e.jsx("button",{onClick:()=>j(!0),className:"text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(_,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c.items.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(w,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Your cart is empty"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Add products to get started"})]}):e.jsx("div",{className:"space-y-3",children:c.items.map(s=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"📦"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 truncate",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t(s.price)," each"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>C(s.product_id,s.quantity-1),className:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300 transition-colors",children:e.jsx(K,{className:"w-3 h-3"})}),e.jsx("span",{className:"w-8 text-center font-medium",children:s.quantity}),e.jsx("button",{onClick:()=>C(s.product_id,s.quantity+1),className:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300 transition-colors",children:e.jsx(S,{className:"w-3 h-3"})})]}),e.jsx("button",{onClick:()=>d(s.product_id),className:"text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(_,{className:"w-4 h-4"})})]},s.product_id))})}),c.items.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border-t border-gray-200 p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{children:t(a.subtotal)})]}),a.discount>0&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsxs("span",{children:["Discount (",a.discount,"%):"]}),e.jsxs("span",{children:["-",t(a.discountAmount)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:["Tax (",a.taxRate,"%):"]}),e.jsx("span",{children:t(a.taxAmount)})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:t(a.total)})]})]}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("button",{onClick:()=>o(!0),className:"btn btn-primary btn-lg w-full",children:[e.jsx(Y,{className:"w-5 h-5 mr-2"}),"Checkout"]})})]})]})}),e.jsx(B,{isOpen:P,onClose:()=>o(!1),title:"Complete Transaction",size:"md",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Order Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{children:t(a.subtotal)})]}),a.discount>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount:"}),e.jsxs("span",{children:["-",t(a.discountAmount)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tax:"}),e.jsx("span",{children:t(a.taxAmount)})]}),e.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:t(a.total)})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Payment Method"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>u("cash"),className:`p-3 rounded-lg border-2 flex items-center justify-center space-x-2 transition-colors ${n==="cash"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(U,{className:"w-5 h-5"}),e.jsx("span",{children:"Cash"})]}),e.jsxs("button",{onClick:()=>u("card"),className:`p-3 rounded-lg border-2 flex items-center justify-center space-x-2 transition-colors ${n==="card"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(V,{className:"w-5 h-5"}),e.jsx("span",{children:"Card"})]})]})]}),n==="cash"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Amount Received"}),e.jsx("input",{type:"number",step:"0.01",value:l,onChange:s=>f(s.target.value),className:"input",placeholder:"0.00",autoFocus:!0})]}),l&&parseFloat(l)>=a.total&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-green-800",children:"Change Due:"}),e.jsx("span",{className:"text-xl font-bold text-green-800",children:t(D)})]})})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>o(!1),className:"btn btn-secondary btn-md flex-1",disabled:g,children:"Cancel"}),e.jsx("button",{onClick:L,disabled:g||n==="cash"&&(!l||parseFloat(l)<a.total),className:"btn btn-primary btn-md flex-1",children:g?e.jsxs(e.Fragment,{children:[e.jsx(G,{size:"sm"}),e.jsx("span",{className:"ml-2",children:"Processing..."})]}):"Complete Sale"})]})]})}),e.jsx(k,{isOpen:q,onCancel:()=>j(!1),onConfirm:()=>{N(),j(!1)},title:"Clear cart?",description:"This will remove all items from the cart. You can't undo this action.",confirmText:"Clear",variant:"danger"}),e.jsx(k,{isOpen:p!=null,onCancel:()=>d(null),onConfirm:()=>{p!=null&&F(p),d(null)},title:"Remove item?",description:"This item will be removed from the cart.",confirmText:"Remove",variant:"danger"})]})};export{ee as default};
//# sourceMappingURL=Sales-JDAstFYs.js.map
