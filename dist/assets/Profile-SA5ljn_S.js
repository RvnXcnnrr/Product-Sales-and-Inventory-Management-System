import{c as h,h as V,r as l,b,j as s,X as M,i as D,k as w,E as v,V as f}from"./index-B8kRnX3K.js";import{P as I}from"./pen-square-BH17CBO_.js";import{U as o}from"./user-oAWE94xs.js";import{S as Z}from"./save-DnZyXH3M.js";/**
 * @license lucide-react v0.307.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=h("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.307.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=h("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.307.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=h("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),$=()=>{var y,p;const{profile:e,updateProfile:P}=V(),[c,n]=l.useState(!1),[j,d]=l.useState(!1),[i,S]=l.useState(!1),[m,C]=l.useState(!1),{register:t,handleSubmit:E,reset:_,formState:{errors:u}}=b(),{register:x,handleSubmit:k,reset:N,watch:A,formState:{errors:a}}=b(),q=A("newPassword"),F=async r=>{const{error:g}=await P(r);g||n(!1)},L=async r=>{try{console.log("Changing password:",r),f.success("Password changed successfully!"),d(!1),N()}catch{f.error("Failed to change password")}},U=()=>{n(!1),_()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your personal information and account settings"})]}),!c&&s.jsxs("button",{onClick:()=>n(!0),className:"btn btn-primary btn-md mt-4 sm:mt-0",children:[s.jsx(I,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"card p-6 text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-primary-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl font-bold text-white",children:((y=e==null?void 0:e.full_name)==null?void 0:y.charAt(0))||((p=e==null?void 0:e.email)==null?void 0:p.charAt(0))||"U"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:(e==null?void 0:e.full_name)||"User Name"}),s.jsx("p",{className:"text-gray-500",children:(e==null?void 0:e.role)||"Staff"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:e==null?void 0:e.email}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600",children:[s.jsx(J,{className:"w-4 h-4 mr-2"}),"Joined ",e!=null&&e.created_at?new Date(e.created_at).toLocaleDateString():"Recently"]}),(e==null?void 0:e.last_sign_in_at)&&s.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600",children:[s.jsx(o,{className:"w-4 h-4 mr-2"}),"Last active ",new Date(e.last_sign_in_at).toLocaleDateString()]})]})]})}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),c&&s.jsx("div",{className:"flex space-x-2",children:s.jsxs("button",{onClick:U,className:"btn btn-secondary btn-sm",children:[s.jsx(M,{className:"w-4 h-4 mr-1"}),"Cancel"]})})]})}),s.jsx("div",{className:"p-6",children:c?s.jsxs("form",{onSubmit:E(F),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Full Name"}),s.jsx("input",{...t("full_name",{required:"Full name is required"}),className:"input",defaultValue:e==null?void 0:e.full_name,placeholder:"Enter your full name"}),u.full_name&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.full_name.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Email Address"}),s.jsx("input",{type:"email",...t("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"input",defaultValue:e==null?void 0:e.email,placeholder:"Enter your email",disabled:!0}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Contact support to change your email address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Phone Number"}),s.jsx("input",{type:"tel",...t("phone"),className:"input",defaultValue:e==null?void 0:e.phone,placeholder:"Enter your phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Job Title"}),s.jsx("input",{...t("job_title"),className:"input",defaultValue:e==null?void 0:e.job_title,placeholder:"Enter your job title"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Address"}),s.jsx("textarea",{...t("address"),className:"input h-20 resize-none",defaultValue:e==null?void 0:e.address,placeholder:"Enter your address"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"submit",className:"btn btn-primary btn-md",children:[s.jsx(Z,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(o,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),s.jsx("p",{className:"font-medium text-gray-900",children:(e==null?void 0:e.full_name)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(D,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email Address"}),s.jsx("p",{className:"font-medium text-gray-900",children:(e==null?void 0:e.email)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(T,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Phone Number"}),s.jsx("p",{className:"font-medium text-gray-900",children:(e==null?void 0:e.phone)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(o,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Job Title"}),s.jsx("p",{className:"font-medium text-gray-900",children:(e==null?void 0:e.job_title)||"Not provided"})]})]})]}),(e==null?void 0:e.address)&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(R,{className:"w-5 h-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),s.jsx("p",{className:"font-medium text-gray-900",children:e.address})]})]})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Security"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Password"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Last changed 30 days ago"})]}),s.jsx("button",{onClick:()=>d(!j),className:"btn btn-secondary btn-sm",children:"Change Password"})]}),j&&s.jsx("div",{className:"border-t pt-4",children:s.jsxs("form",{onSubmit:k(L),className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:i?"text":"password",...x("currentPassword",{required:"Current password is required"}),className:"input pr-10",placeholder:"Enter current password"}),s.jsx("button",{type:"button",onClick:()=>S(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?s.jsx(w,{className:"w-5 h-5"}):s.jsx(v,{className:"w-5 h-5"})})]}),a.currentPassword&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:a.currentPassword.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:m?"text":"password",...x("newPassword",{required:"New password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),className:"input pr-10",placeholder:"Enter new password"}),s.jsx("button",{type:"button",onClick:()=>C(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m?s.jsx(w,{className:"w-5 h-5"}):s.jsx(v,{className:"w-5 h-5"})})]}),a.newPassword&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:a.newPassword.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Confirm New Password"}),s.jsx("input",{type:"password",...x("confirmPassword",{required:"Please confirm your new password",validate:r=>r===q||"Passwords do not match"}),className:"input",placeholder:"Confirm new password"}),a.confirmPassword&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:a.confirmPassword.message})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>{d(!1),N()},className:"btn btn-secondary btn-sm",children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Update Password"})]})]})}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Add extra security to your account"})]}),s.jsx("button",{className:"btn btn-secondary btn-sm",children:"Enable 2FA"})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-gray-900",children:"Signed in from new device"}),s.jsx("span",{className:"text-gray-500",children:"2 hours ago"})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("span",{className:"text-gray-900",children:"Updated profile information"}),s.jsx("span",{className:"text-gray-500",children:"1 day ago"})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),s.jsx("span",{className:"text-gray-900",children:"Changed password"}),s.jsx("span",{className:"text-gray-500",children:"3 days ago"})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),s.jsx("span",{className:"text-gray-900",children:"Signed in from Chrome on Windows"}),s.jsx("span",{className:"text-gray-500",children:"1 week ago"})]})]})})]})]})]})]})};export{$ as default};
//# sourceMappingURL=Profile-SA5ljn_S.js.map
